(this["webpackJsonplife-dash"]=this["webpackJsonplife-dash"]||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(19),o=n.n(s),c=n(10),l=n(9);function u(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/private"},"Private")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/login/"},"Login"))))}class i extends a.Component{render(){return r.a.createElement("div",{className:"topbar"},"Topbar",r.a.createElement(u,null))}}var m=i,p=n(49);var h=function(e){let t=e.component,n=e.authenticated,a=Object(p.a)(e,["component","authenticated"]);return r.a.createElement(l.b,Object.assign({},a,{render:e=>!0===n?r.a.createElement(t,e):r.a.createElement(l.a,{to:{pathname:"/login",state:{from:e.location}}})}))},d=n(13),E=n.n(d),b=n(21),v=n(23),f=n.n(v);console.log(f.a);var w=Object(a.memo)(({id:e,type:t="button",onClick:n,label:a="no label set..."})=>r.a.createElement("div",{className:f.a["button-container"]},r.a.createElement("button",{id:e,className:f.a.button,type:t,onClick:n},a))),g=n(47);const O=Object(g.create)({baseURL:"http://localhost:4000",headers:{"x-user-token":function(){let e=decodeURIComponent(document.cookie).split(";");for(let t=0;t<e.length;t++){let n=e[t];for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf("token="))return n.substring("token=".length,n.length)}return""}()}});function _(e,t){return C.apply(this,arguments)}function C(){return(C=Object(b.a)(E.a.mark((function e(t,n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/users/authenticate",e.next=3,O.post("/api/v1/users/authenticate",{username:t,pw:n});case 3:if(!(a=e.sent).ok){e.next=8;break}return e.abrupt("return",a.data);case 8:return console.error(a.problem),e.abrupt("return",{user:null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=n(24);const k={user:null};var x=n(22);class S extends a.Component{constructor(e){var t;super(e),t=this,this.handleUsernameChange=()=>this.setState({username:this.usernameInputRef.current.value}),this.handlePwChange=()=>this.setState({pw:this.pwInputRef.current.value}),this.handleSubmit=function(){var e=Object(b.a)(E.a.mark((function e(n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,_(t.state.username,t.state.pw);case 3:(a=e.sent)&&t.props.setActiveUser(a),console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.usernameInputRef=Object(a.createRef)(),this.pwInputRef=Object(a.createRef)(),this.state={username:"",pw:""}}render(){return r.a.createElement("div",{className:"login-form"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{id:"username",type:"email",placeholder:"Some text",onChange:this.handleUsernameChange,value:this.state.username,ref:this.usernameInputRef})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"pw"},"Password"),r.a.createElement("input",{id:"pw",type:"password",placeholder:"Password",onChange:this.handlePwChange,value:this.state.pw,ref:this.pwInputRef})),r.a.createElement(w,{type:"submit",onClick:this.handleSubmit,label:"Submit"}))}}var U=Object(x.b)((function(e){return{users:e.users}}),(function(e){return{setActiveUser:(t,n)=>e({type:"Users/SET_ACTIVE_USER",user:t})}}))(S);class j extends r.a.Component{render(){return r.a.createElement("div",{className:"home-container"},r.a.createElement(U,null))}}var I=j;n(125);const y=()=>r.a.createElement("h2",null,"Homepage"),N=()=>r.a.createElement("h2",null,"Private");class T extends a.Component{render(){return r.a.createElement(c.a,null,r.a.createElement("div",{className:"main-container"},r.a.createElement(m,null),r.a.createElement(l.b,{path:"/",exact:!0,component:y}),r.a.createElement(l.b,{path:"/login/",component:I}),r.a.createElement(h,{path:"/private",authenticated:!1,component:N})))}}var A=T,P=n(15);const V=Object(P.b)({users:function(e=k,t){switch(t.type){case"Users/SET_ACTIVE_USER":return Object(R.a)({},e,{user:Object(R.a)({},t.user)});case"Users/REMOVE_ACTIVE_USER":return Object(R.a)({},e,{user:null});default:return e}}});var D=Object(P.c)(V,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x.a,{store:D},r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},23:function(e,t,n){e.exports={button:"Button_button__uv1mz"}},50:function(e,t,n){e.exports=n(126)}},[[50,1,2]]]);
//# sourceMappingURL=main.969a7f20.chunk.js.map